(()=>{var e={503:function(e){e.exports=function(){class e{constructor(e){this.init=this.init.bind(this),this.create=this.create.bind(this),this.mouseLeaveCanvas=this.mouseLeaveCanvas.bind(this),this.assets_dir=e}init(){var t;return 36,t=650,this.game.plugins.add(Phaser.Plugin.SaveCPU).renderOnFPS=60,this.hoverMenuButtons=[],this.game.input.mouse.mouseOutCallback=this.mouseLeaveCanvas,this.game.input.mspointer.pointerOutCallback=this.mouseLeaveCanvas,this.scaleFactor=Math.max(this.game.width/t,.7),this.menubarHeight=Math.round(36*this.scaleFactor),this.menuSpacing=Math.round(10*this.scaleFactor),document.getElementById("game").style.cursor="default",this.menuFontColor="#FFFFFF",this.menuFont={font:"18pt "+e.MAIN_FONT,fill:this.menuFontColor,align:"center"},this.isWinner=!1,this.winAnimationComplete=!1,this.gameUnderway=!1}create(){var e;return this.backgroundGroup=this.game.add.group(),this.background=this.game.add.image(0,this.menubarHeight,"background"),this.backgroundGroup.add(this.background),this.marker=this.game.add.graphics(0,0),this.playingArea=new Phaser.Rectangle(0,this.menubarHeight,Math.floor(this.PLAY_AREA_RATIO*this.game.width),this.game.height-this.menubarHeight),this.background.scale.set(this.getBackgroundScale(this.background)),null!=this.revealer&&this.initRevealer(),this.drawMenubar(),null!=(e=this.revealer)&&e.create("textures"),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenTarget=document.getElementById("game"),this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.refresh()}drawMenubar(){var e,t,i,s,r;for((e=this.game.add.bitmapData(this.game.world.width,this.menubarHeight)).addToWorld(),i=s=0,r=this.menubarHeight;0<=r?s<r:s>r;i=0<=r?++s:--s)t=Phaser.Color.interpolateColor(4473924,0,this.menubarHeight,i),e.rect(0,i,this.game.world.width,i+1,Phaser.Color.getWebRGB(t));return this.menubarMidY=this.menubarHeight/2,this.titleText=this.addText(this.game.world.centerX,this.menubarMidY,this.TEXT.title,this.menuFont),this.titleText.anchor.set(.5),this.newGameButton=this.createTextMenuButton(this.menuSpacing,0,"New Game",this.newGame),this.fullScreenButton=this.createImageMenuButton(this.game.width,1,this.createFullscreenIcon(),this.fullScreen),this.fullScreenButton.scale.set(this.scaleFactor),this.game.scale.onFullScreenError.add(this.fullScreenFailure,this),this.game.world.bringToTop(this.marker)}createTextMenuButton(e,t,i,s){var r;return(r=this.addText(e,this.menubarMidY,i,this.menuFont)).anchor.set(t,.5),this.configureButton(r,s),this.drawMenuButtonOutline(r,{left:6,top:1,right:6,bottom:1}),r}createImageMenuButton(e,t,i,s){var r;return(r=this.game.add.image(e,this.menubarMidY,i)).anchor.set(t,.5),this.configureButton(r,s),r}configureButton(e,t){return e.inputEnabled=!0,e.input.useHandCursor=!0,this.game.device.touch||(this.hoverMenuButtons.push(e),e.events.onInputOver.add(this.buttonHoverStart,this),e.events.onInputOut.add(this.buttonHoverStop,this)),e.events.onInputUp.add(t,this)}drawMenuButtonOutline(e,t){var i,s,r,n;return 5,s=e.left-t.left,r=e.top-t.top,n=e.width+t.left+t.right,i=e.height+t.top+t.bottom,this.marker.lineStyle(2,6710886,1),this.marker.drawRoundedRect(s,r,n,i,5),this.marker.lineStyle(0,0,0)}createFullscreenIcon(){var e,t,i;return 6,34,9,t=25,(e=this.game.add.graphics(0,0)).lineStyle(3,16777215,1),e.moveTo(9,15),e.lineTo(9,9),e.lineTo(15,9),e.moveTo(19,9),e.lineTo(t,9),e.lineTo(t,15),e.moveTo(t,19),e.lineTo(t,t),e.lineTo(19,t),e.moveTo(15,t),e.lineTo(9,t),e.lineTo(9,19),e.lineStyle(1,16777215,0),e.moveTo(0,0),e.lineTo(0,34),e.lineTo(34,34),e.lineTo(34,0),e.lineTo(0,0),i=e.generateTexture(),e.destroy(),i}getBackgroundScale(e){var t,i,s,r;return s=e.width,t=e.height,r=i=1,s<this.game.width&&(r=this.game.width/e.width),t<this.game.height&&(i=this.game.height/e.height),Math.max(r,i,1)}getGameDimensions(){var e,t,i,s,r;for(t=document.getElementById("game");0===t.clientWidth;)t=t.parentNode;return(r=t.clientWidth)!==document.body.clientWidth?[r,Math.round(this.HEIGHT_WIDTH_RATIO*r)]:((s=document.body.clientHeight)/r>=this.HEIGHT_WIDTH_RATIO?(i=r,e=Math.round(this.HEIGHT_WIDTH_RATIO*i)):(e=s,i=Math.round(1/this.HEIGHT_WIDTH_RATIO*e)),[i,e])}start(){var e,t,i;return[i,e]=this.getGameDimensions(),t={init:this.init,preload:this.preload,create:this.create,update:this.update},this.game=new Phaser.Game(i,e,Phaser.CANVAS,"game",t)}initRevealer(){var e;return(e=this.playingArea.clone()).x=this.playingArea.width+1,e.width=this.game.width-this.playingArea.width,this.revealer.setBounds(e)}addText(e,t,i,s){return(i=this.game.add.text(e,t,i,s)).scale.set(this.scaleFactor),i}buttonHoverStart(e){return null==e.fill_bak&&(e.fill_bak=e.fill),e.fill="#FFFF00"}buttonHoverStop(e){if(null!=e.fill_bak)return e.fill=e.fill_bak}mouseLeaveCanvas(){return this.hoverMenuButtons.forEach((e=>this.buttonHoverStop(e)))}fullScreenFailure(){return alert("Full screen mode didn't work. The device may not support it.")}fullScreen(){return this.game.scale.isFullScreen?(this.game.scale.stopFullScreen(),document.getElementById("unlocked-galleries-wrap").style.position="fixed"):(this.game.scale.startFullScreen(),document.getElementById("unlocked-galleries-wrap").style.position="absolute")}newGame(){var e,t;if(this.gameUnderway=!1,this.winAnimationComplete=!1,null!=(e=this.revealer)&&e.resetCovers(),this.isWinner)return this.isWinner=!1,null!=(t=this.revealer)?t.readyImage():void 0}newRevealerImage(){0}toggleAllInputs(e){this.newGameButton.input.enabled=e,this.fullScreenButton.input.enabled=e}}return e.MAIN_FONT="Sarabun",e}.call(this)},757:function(e,t,i){var s,r,n,h,a=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},l=[].indexOf;r=i(503),s=i(816),h=i(817),n=i(145),e.exports=function(){var e,t,i,o,u,d,c,p;class g extends r{constructor(){super(...arguments),this.preload=this.preload.bind(this),this.create=this.create.bind(this),this.changeLevel=this.changeLevel.bind(this),this.disableNumpad=this.disableNumpad.bind(this),this.unselectTile=this.unselectTile.bind(this),this.addNumpadHint=this.addNumpadHint.bind(this),this.tileClicked=this.tileClicked.bind(this),this.numpadClicked=this.numpadClicked.bind(this),this.numpadAction=this.numpadAction.bind(this),this.clearBtnClicked=this.clearBtnClicked.bind(this),this.backgroundClicked=this.backgroundClicked.bind(this),this.numpadOver=this.numpadOver.bind(this),this.numpadOut=this.numpadOut.bind(this),this.findEditableTile=this.findEditableTile.bind(this),this.cursorPressed=this.cursorPressed.bind(this),this.keyPressed=this.keyPressed.bind(this)}preload(){var e,t,i,s;for(a(this,g),this.game.load.atlas("textures",`${this.assets_dir}/sprites.png`,`${this.assets_dir}/sprites.json`),this.game.load.image("background",`${this.assets_dir}/background.jpg`),s=[],e=t=1,i=c;1<=i?t<=i:t>=i;e=1<=i?++t:--t)s.push(this.game.load.text(`puzzles-level-${e}`,`${this.assets_dir}/puzzles-level-${e}.txt`));return s}create(){var s,r,n,l,o,u,m,f,v,b,T,w,C,S,P,k,y,R,_,A,F,I,M,E,O,x,D,B,H,N,G,z;for(a(this,g),this.tileSize=this.game.world.width*this.PLAY_AREA_RATIO*t/d,I=this.game.cache.getFrameData("textures").getFrameByName("tile1").width,this.imgScale=this.tileSize/I,this.tileSize+=1,super.create(),this.dropdownOpen=!1,this.puzzles=[],f=v=1,O=c;1<=O?v<=O:v>=O;f=1<=O?++v:--v)this.puzzles.push(this.parsePuzzle(`puzzles-level-${f}`));for(this.level=0,this.completed=function(){var e,t;for(t=[],f=e=1;e<=9;f=++e)t.push(!1);return t}(),this.currentChoices=function(){var e;e=[];for(var t=1;t<=9;t++)e.push(!1);return e}(),this.hints=!0,this.fieldRect=new Phaser.Rectangle(0,0,this.tileSize*d,this.tileSize*p),this.fieldRect.centerOn(this.game.world.centerX*this.PLAY_AREA_RATIO,this.game.world.centerY+this.menubarHeight/2),_={font:Math.round(11*this.imgScale)+"pt "+i,fill:"white"},8,F=this.fieldRect.top-8*this.imgScale,(C=this.game.add.text(this.fieldRect.left,F,"Difficulty:",_)).anchor.set(0,1),this.levelSelect=[],P=["Easy","Medium","Hard"],10,8,28,f=b=0,x=c;0<=x?b<x:b>x;f=0<=x?++b:--b)z=0===f?C.right:this.levelSelect[f-1].right,(G=this.game.add.text(z+28,F,P[f],_)).anchor.set(0,1),this.configureButton(G,this.changeLevel),0===f?(G.input.enabled=!1,G.input.useHandCursor=!1):G.fill="#808080",this.levelSelect.push(G),this.drawRoundedButton(this.marker,G,{left:10,top:3,right:10,bottom:4});for(A=C.top-8*this.imgScale,(m=this.game.add.text(C.left,A,"Hints:",_)).anchor.set(0,1),this.hintsToggle=this.game.add.text(m.right+15,A,"On",_),this.hintsToggle.anchor.set(0,1),this.configureButton(this.hintsToggle,this.toggleHints),this.drawRoundedButton(this.marker,this.hintsToggle,{left:10,top:3,right:13,bottom:3}),this.marker.beginFill(0),this.marker.drawRect(this.fieldRect.left-2,this.fieldRect.top-2,this.fieldRect.width+4,this.fieldRect.height+4),this.marker.endFill(),this.tiles=[],E=w=0,D=p;0<=D?w<D:w>D;E=0<=D?++w:--w)for(this.tiles.push([]),r=S=0,B=d;0<=B?S<B:S>B;r=0<=B?++S:--S)(s=this.game.add.button(this.fieldRect.left+r*this.tileSize,this.fieldRect.top+E*this.tileSize,"textures",this.tileClicked)).scale.setTo(this.imgScale),this.tiles[E].push(new h(E,r,s,I,e));for(this.numpad=[],y={font:"30pt "+e},f=R=0;R<9;f=++R)(M=this.game.add.button(this.fieldRect.left+f*this.tileSize,this.fieldRect.bottom+10,"textures",this.numpadClicked)).scale.setTo(this.imgScale),M.frameName="tile12",M.onInputOver.add(this.numpadOver),M.onInputOut.add(this.numpadOut),(k=this.game.add.text(I/2,I/2+2,`${f+1}`,y)).anchor.setTo(.5),M.addChild(k),M.inputEnabled=!0,this.numpad.push(M);return l={font:Math.round(13*this.imgScale)+"pt "+i,fill:"white"},this.clearBtnGroup=this.game.add.group(),this.clearBtn=this.game.add.text(this.fieldRect.centerX,this.numpad[0].bottom+8*this.imgScale,"Clear",l,this.clearBtnGroup),this.clearBtn.anchor.set(.5,0),this.configureButton(this.clearBtn,this.clearBtnClicked),u=this.game.add.graphics(0,0,this.clearBtnGroup),this.drawRoundedButton(u,this.clearBtn,{left:12,top:5,right:12,bottom:4}),this.clearBtnGroup.bringToTop(this.clearBtn),this.clearBtnGroup.visible=!1,this.background.inputEnabled=!0,this.background.events.onInputDown.add(this.backgroundClicked),this.game.input.keyboard.addCallbacks(this,this.keyPressed),(o=this.game.input.keyboard.createCursorKeys()).up.onDown.add(this.cursorPressed,this),o.down.onDown.add(this.cursorPressed,this),o.left.onDown.add(this.cursorPressed,this),o.right.onDown.add(this.cursorPressed,this),T=Phaser.KeyCode,this.keyboardNums=function(){for(var e=[],t=N=T.ONE,i=T.NINE;N<=i?t<=i:t>=i;N<=i?t++:t--)e.push(t);return e}.apply(this).concat(function(){for(var e=[],t=H=T.NUMPAD_1,i=T.NUMPAD_9;H<=i?t<=i:t>=i;H<=i?t++:t--)e.push(t);return e}.apply(this)),n=[T.UP,T.DOWN,T.LEFT,T.RIGHT,T.ESC,T.DELETE],this.game.input.keyboard.addKeyCapture(n.concat(this.keyboardNums)),this.newGame()}drawRoundedButton(e,t,i){var s,r,n,h;return 5,r=t.left-i.left,n=t.top-i.top,h=t.width+i.left+i.right,s=t.height+i.top+i.bottom,e.beginFill(0,.3),e.drawRoundedRect(r,n,h,s,5),e.endFill(),e.lineStyle(1,0,1),e.drawRoundedRect(r,n,h,s,5),e.lineStyle(0,0,0)}changeLevel(e){if(a(this,g),!this.gameUnderway||confirm("This will start a new game. Is that OK?"))return this.levelSelect[this.level].fill="#808080",this.levelSelect[this.level].fill_bak="#808080",this.levelSelect[this.level].input.enabled=!0,this.levelSelect[this.level].input.useHandCursor=!0,this.level=this.levelSelect.indexOf(e),this.levelSelect[this.level].fill="white",this.levelSelect[this.level].fill_bak="white",this.levelSelect[this.level].input.enabled=!1,this.levelSelect[this.level].input.useHandCursor=!1,this.newGame()}enableNumpad(){var e,t,i,s,r;for(r=[],e=0,t=(s=this.numpad).length;e<t;e++)(i=s[e]).input.enabled?r.push(void 0):(i.input.enabled=!0,i.input.useHandCursor=!0,r.push(i.tint=16777215));return r}disableNumpad(){var e,t,i,s,r;for(a(this,g),r=[],e=0,t=(s=this.numpad).length;e<t;e++)(i=s[e]).input.enabled=!1,i.input.useHandCursor=!1,r.push(i.tint=o);return r}toggleHints(){if(this.hints=!this.hints,this.hints){if(this.hintsToggle.setText("On"),this.selectedTile)return h.dim(this.tiles,this.selectedTile,this.game),this.addNumpadHint()}else if(this.hintsToggle.setText("Off"),this.selectedTile)return h.undim(this.tiles,this.game),this.enableNumpad()}parsePuzzle(e){var t,i,s,r,n,h,a;for(a=[],i=0,s=(h=this.game.cache.getText(e).split("\n")).length;i<s;i++)""!==(r=h[i])&&a.push(function(){var e,i,s,h;for(h=[],e=0,i=(s=r.split(",")).length;e<i;e++)t=s[e],h.push(function(){var e,i,s,r;for(r=[],e=0,i=(s=t.split("")).length;e<i;e++)n=s[e],r.push(parseInt(n));return r}());return h}());return a}createMatrix(){var e,t,i,s,r,h,a,l,o,u,c;for(i=this.puzzles[this.level];s=Math.floor(Math.random()*i.length),a=i[s],t=n.deepCopy(a),!(u=new n(t).solve()).isSolved;);for(o=[],h=r=0,l=p;0<=l?r<l:r>l;h=0<=l?++r:--r)o.push(function(){var t,i,s;for(s=[],e=t=0,i=d;0<=i?t<i:t>i;e=0<=i?++t:--t)(c=this.tiles[h][e]).setIncomplete(),c.setValue(a[h][e]),c.setEditable(0===c.value),s.push(c.solution=u.solution[h][e]);return s}.call(this));return o}unselectTile(){return a(this,g),this.selectedTile.setDefaultFrame(),this.selectedTile=null,this.clearBtnGroup.visible=!1}newGame(){var e,t,i,s,r,a,o,u,d,c,p,g;if(this.selectedTile&&(this.unselectTile(),h.undim(this.tiles,this.game)),this.isWinner)for(null!=(u=this.winMessageGroup)&&(u.visible=!1),t=0,r=(d=this.tiles).length;t<r;t++)for(i=0,a=(c=d[t]).length;i<a;i++)(g=c[i]).setDefaultFrame(),g.number.scale.set(1);for(this.disableNumpad(),this.createMatrix(),e=s=0;s<9;e=++s)this.completed[e]=!1;for(e=o=0;o<9;e=++o)p=n.getSquare(this.tiles,e),!0,l.call(function(){var e,t,i;for(i=[],t=0,e=p.length;t<e;t++)g=p[t],i.push(g.value);return i}(),true)>=0&&this.squareCheck(p[0]);return super.newGame()}checkForWin(){var e,t,i,s,r,n,h;for(e=0,i=(r=this.tiles).length;e<i;e++)for(t=0,s=(n=r[e]).length;t<s;t++)if((h=n[t]).value!==h.solution)return;return this.isWinner=!0,this.animateWin()}updateCurrentChoices(e){var t,i,s,r,h,a,o,u,d,c,p,g,m,f,v,b,T,w;for(w=function(){var t,i,s,r;for(r=[],t=0,i=(s=this.tiles[e.row]).length;t<i;t++)0!==(v=s[t]).value&&r.push(v.value);return r}.call(this),i=0,h=(d=this.tiles).length;i<h;i++)0!==(T=d[i][e.col].value)&&l.call(w,T)<0&&w.push(T);for(f=n.getSquaresIndex(e.row,e.col),s=0,a=(c=n.getSquare(this.tiles,f)).length;s<a;s++)0!==(v=c[s]).value&&(p=v.value,l.call(w,p)<0)&&w.push(v.value);for(t=r=0,g=this.currentChoices.length;0<=g?r<g:r>g;t=0<=g?++r:--r)this.currentChoices[t]=!0;for(m=[],u=0,o=w.length;u<o;u++)b=w[u],m.push(this.currentChoices[b-1]=!1);return m}squareCheck(e){var t,i,s,r,n,h,a,l,o,u,d,c,p,g,m;for(c=e.subsquareID(),p=3*Math.floor(c/3),t=c%3*3,m=function(){for(var e=[],t=p,i=p+2;p<=i?t<=i:t>=i;p<=i?t++:t--)e.push(t);return e}.apply(this),s=function(){for(var e=[],i=t,s=t+2;t<=s?i<=s:i>=s;t<=s?i++:i--)e.push(i);return e}.apply(this),r=0,a=m.length;r<a;r++)for(g=m[r],n=0,l=s.length;n<l;n++)if(i=s[n],(e=this.tiles[g][i]).value!==e.solution)return!1;for(this.completed[c]=!0,h=0,o=m.length;h<o;h++)for(g=m[h],d=0,u=s.length;d<u;d++)i=s[d],this.tiles[g][i].setComplete();return!0}addNumpadHint(){var e,t,i,s;for(a(this,g),s=[],t=e=0;e<=8;t=++e)i=this.numpad[t],this.currentChoices[t]?(i.input.enabled=!0,i.input.useHandCursor=!0,s.push(i.tint=16777215)):(i.input.enabled=!1,s.push(i.tint=o));return s}toggleAllInputs(e){var t,i,s;for(t=0,i=(s=this.levelSelect).length;t<i;t++)s[t].input.enabled=e;return this.hintsToggle.input.enabled=e,this.clearBtn.input.enabled=e,this.background.input.enabled=e,super.toggleAllInputs(e)}animateWin(){var t,r,n,a,l,o,u,c,g,m,f,v,b,T,w,C,S,P;for(this.toggleAllInputs(!1),h.undim(this.tiles,this.game),m=4===(b=Math.floor(Math.random()*s.length))&&Math.random()<.5,a=1===b?function(){switch(Math.floor(4*Math.random())){case 0:return 0;case 1:return 1;case 2:return 4;default:return 12}}():-1,f=[],P=function(){var e,t;return[t,e]=f.shift(),t.button.frameName=`tile${e+1}`,t.number.fontWeight="normal",t.number.fill="white"},n=(e,t,i,s)=>{var r,n,h;return r=(i.bottom-i.top)*i.percent,(n=new Phaser.Rectangle(0,0,this.fieldRect.width,r)).centerOn(this.fieldRect.centerX,(i.top+i.bottom)/2),e.drawRoundedRect(n.left,n.top,n.width,n.height,20),h={font:Math.round(s.size*this.imgScale)+"pt "+s.name,fill:s.fill},this.game.add.text(0,0,t,h,this.winMessageGroup).alignIn(n,Phaser.CENTER,0,i.offsetY)},C=function(){var t,s,r,h,a,l,o,u;for(1e-8,s=0,h=(l=this.tiles).length;s<h;s++)for(r=0,a=(o=l[s]).length;r<a;r++)u=o[r],this.game.add.tween(u.number.scale).to({x:1e-8,y:1e-8},500,null,!0);return null!=this.winMessageGroup?this.winMessageGroup.visible=!0:(this.winMessageGroup=this.game.add.group(),(t=this.game.add.graphics(0,0,this.winMessageGroup)).beginFill(0,.65),n(t,"Congratulations!",{top:this.menubarHeight,bottom:this.hintsToggle.top,percent:.7,offsetY:0},{name:e,size:20,fill:"#0FC92B"}),n(t,"Click 'New Game' to play again",{top:this.numpad[0].bottom,bottom:this.game.world.height,percent:.7,offsetY:2},{name:i,size:11,fill:"yellow"}),t.endFill()),this.toggleAllInputs(!0)},o=1,l=u=1;u<10;l=++u)for(v=c=0,T=p;0<=T?c<T:c>T;v=0<=T?++c:--c)for(t=g=0,w=d;0<=w?g<w:g>w;t=0<=w?++g:--g)(S=this.tiles[v][t]).value===l&&(r=s[b][v][t],m&&0===r&&(r=3),-1!==a&&0===r&&(r=a),f.push([S,r]),this.game.time.events.add(50*o,P),o+=1);return this.game.time.events.add(50*o+200,C,this)}tileClicked(e,t){var i;if(a(this,g),(i=e.tile).editable&&this.selectedTile!==i)return this.selectedTile&&this.selectedTile.setDefaultFrame(),this.selectedTile=i,i.highlight(),this.updateCurrentChoices(i),0===i.value?this.clearBtnGroup.visible=!1:this.clearBtnGroup.visible=!0,this.hints?(h.dim(this.tiles,i,this.game),this.addNumpadHint()):this.enableNumpad()}numpadClicked(e,t){return a(this,g),this.numpadAction(this.numpad.indexOf(e))}numpadAction(e){var t;return a(this,g),this.gameUnderway=!0,this.selectedTile.setValue(e+1),this.numpad[e].tint=16777215,this.hints&&(this.updateCurrentChoices(this.selectedTile),this.addNumpadHint()),this.squareCheck(this.selectedTile)?(this.hints&&h.undim(this.tiles,this.game),null!=(t=this.revealer)&&t.reveal(n.getSquaresIndex(this.selectedTile.row,this.selectedTile.col)),this.unselectTile(),this.checkForWin()):this.clearBtnGroup.visible=!0}clearBtnClicked(){if(a(this,g),this.selectedTile.editable&&0!==this.selectedTile.value)return this.selectedTile.setValue(0),this.clearBtnGroup.visible=!1,this.hints?(this.updateCurrentChoices(this.selectedTile),this.addNumpadHint()):this.enableNumpad()}backgroundClicked(){if(a(this,g),this.selectedTile)return this.unselectTile(),this.hints&&h.undim(this.tiles,this.game),this.disableNumpad()}numpadOver(e,t){var i;if(a(this,g),i=this.numpad.indexOf(e),!this.hints||this.currentChoices[i])return this.numpad[i].tint=u}numpadOut(e){var t;if(a(this,g),t=this.numpad.indexOf(e),this.numpad[t].tint=u)return this.numpad[t].tint=16777215}findEditableTile(e,t){var i,s,r,n,h;switch(a(this,g),h=null,s=e.row,i=e.col,n=r=0,t){case"down":n=1;break;case"up":n=-1;break;case"left":r=-1;break;case"right":r=1}for(;0<=s&&s<p&&0<=i&&i<d;){if(this.tiles[s][i].editable){h=this.tiles[s][i];break}s+=n,i+=r}return h}cursorPressed(e){var t,i,s,r;if(a(this,g),i=null,null!=this.selectedTile)switch(s=this.selectedTile.row,t=this.selectedTile.col,e.keyCode){case Phaser.KeyCode.UP:this.selectedTile.row>0&&(i=this.findEditableTile(this.tiles[s-1][t],"up"));break;case Phaser.KeyCode.DOWN:this.selectedTile.row<p-1&&(i=this.findEditableTile(this.tiles[s+1][t],"down"));break;case Phaser.KeyCode.RIGHT:this.selectedTile.col<d-1&&(i=this.findEditableTile(this.tiles[s][t+1],"right"));break;case Phaser.KeyCode.LEFT:this.selectedTile.col>0&&(i=this.findEditableTile(this.tiles[s][t-1],"left"))}else for(t=0;null==i&&t<d;)i=this.findEditableTile(this.tiles[0][t],"down"),t++;if(null!=i)return r={tile:i},this.tileClicked(r,null)}keyPressed(e){var t,i;if(a(this,g),t=Phaser.KeyCode,e.keyCode===t.ESC)return this.backgroundClicked();if(e.keyCode===t.DELETE)return this.clearBtnClicked();if(i=e.keyCode,l.call(this.keyboardNums,i)>=0)switch(e.keyCode){case t.ONE:case t.NUMPAD_1:return this.numpadAction(0);case t.TWO:case t.NUMPAD_2:return this.numpadAction(1);case t.THREE:case t.NUMPAD_3:return this.numpadAction(2);case t.FOUR:case t.NUMPAD_4:return this.numpadAction(3);case t.FIVE:case t.NUMPAD_5:return this.numpadAction(4);case t.SIX:case t.NUMPAD_6:return this.numpadAction(5);case t.SEVEN:case t.NUMPAD_7:return this.numpadAction(6);case t.EIGHT:case t.NUMPAD_8:return this.numpadAction(7);case t.NINE:case t.NUMPAD_9:return this.numpadAction(8)}}}return i=r.MAIN_FONT,e="Bonzai",g.prototype.TEXT={title:"Sudoku"},g.prototype.HEIGHT_WIDTH_RATIO=1.64,g.prototype.PLAY_AREA_RATIO=1,t=.9,d=9,p=9,c=3,u=16776960,o=2105376,g}.call(this)},816:e=>{e.exports=[[[11,11,11,11,11,11,11,11,11],[11,11,9,9,9,9,9,11,11],[11,9,9,5,9,5,9,9,11],[11,9,9,5,9,5,9,9,11],[11,9,9,9,9,9,9,9,11],[11,9,5,9,9,9,5,9,11],[11,9,9,5,5,5,9,9,11],[11,11,9,9,9,9,9,11,11],[11,11,11,11,11,11,11,11,11]],[[10,10,10,10,10,10,10,10,10],[10,10,0,0,0,0,0,10,10],[10,0,0,0,0,0,0,0,10],[0,0,11,11,0,0,11,11,0],[0,0,11,6,0,0,11,6,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[10,0,0,10,0,0,10,0,0]],[[10,10,10,10,8,8,10,10,10],[10,10,10,8,8,8,8,10,10],[10,10,8,8,8,8,8,8,10],[10,8,8,10,8,8,10,8,8],[10,8,8,8,8,8,8,8,8],[10,10,8,10,8,8,10,8,10],[10,8,10,10,10,10,10,10,8],[10,10,8,10,10,10,10,8,10],[10,10,10,10,10,10,10,10,10]],[[10,10,10,10,10,10,10,10,3],[10,3,10,10,10,10,10,3,10],[3,10,3,10,10,10,3,10,10],[3,10,10,3,3,3,10,10,10],[10,10,3,3,3,3,3,3,10],[10,3,3,10,3,3,10,3,10],[10,3,3,3,3,3,3,3,10],[10,3,10,10,10,10,10,3,10],[10,3,3,10,10,10,10,3,3]],[[11,11,0,0,0,0,0,0,0],[11,10,10,10,12,12,10,12,11],[11,10,12,10,10,12,12,12,12],[11,10,12,12,12,12,10,10,12],[11,11,11,12,12,12,12,12,11],[11,0,0,6,0,0,6,0,11],[0,0,0,9,0,0,9,0,0],[12,12,6,6,6,6,6,6,12],[11,11,0,0,0,11,0,0,0]],[[6,6,6,6,9,6,6,6,6],[6,6,6,6,9,6,6,6,6],[6,6,6,9,9,9,6,6,6],[9,9,9,10,9,10,9,9,9],[6,9,9,10,9,10,9,9,6],[6,6,9,9,9,9,9,6,6],[6,6,9,9,9,9,9,6,6],[6,9,9,9,6,9,9,9,6],[9,9,6,6,6,6,6,9,9]],[[10,10,3,3,3,3,3,3,10],[10,3,3,3,3,3,3,3,3],[12,3,1,1,1,1,1,1,3],[12,1,1,1,1,1,1,1,1],[12,1,12,12,12,12,12,12,1],[12,1,12,6,12,12,6,12,1],[12,12,12,12,12,12,12,12,12],[10,10,12,12,10,10,12,12,10],[3,3,3,12,12,12,12,3,3]]]},817:function(e){e.exports=function(){var e,t,i,s,r;class n{constructor(e,t,i,s,r){var n;this.row=e,this.col=t,this.button=i,this.button.tile=this,this.setDefaultFrame(),n={font:"30pt "+r},this.number=this.button.game.add.text(s/2,s/2+2,"",n),this.number.anchor.setTo(.5),this.number.setShadow(0,0,"black",1),this.number.kill(),this.button.addChild(this.number)}static dim(e,t,s){var r,h,a,l,o,u;for(r=0,a=e.length;r<a;r++)for(h=0,l=(o=e[r]).length;h<l;h++)(u=o[h]).col!==t.col&&u.row!==t.row&&u.subsquareID()!==t.subsquareID()?u.button.tint!==i&&n.tweenTint(u.button,u.button.tint,i,s):16777215!==u.button.tint&&n.tweenTint(u.button,u.button.tint,16777215,s)}static undim(e,t){var i,s,r,h,a,l;for(i=0,r=e.length;i<r;i++)for(s=0,h=(a=e[i]).length;s<h;s++)16777215!==(l=a[s]).button.tint&&n.tweenTint(l.button,l.button.tint,16777215,t)}static tweenTint(e,i,s,r){var n;return n={step:0},r.add.tween(n).to({step:100},t).onUpdateCallback((function(){return e.tint=Phaser.Color.interpolateColor(i,s,100,n.step,1)})).start()}setIncomplete(){return this.number.fill=this.editable?s:r}setComplete(){return this.setEditable(!1),this.number.fill=e}setEditable(e){return this.editable=e,this.number.fontWeight=e?"bold":"normal",this.number.fill=e?s:r}setValue(e){if(this.value=e,0===e){if(this.number.visible)return this.number.kill()}else if(this.number.setText(e),!this.number.visible)return this.number.revive()}subsquareID(){return 3*Math.floor(this.row/3)+Math.floor(this.col/3)}setDefaultFrame(){return this.button.frameName=`tile${this.subsquareID()+1}`}highlight(){return this.button.frameName="tile10"}}return t=200,i=4210752,s="#FFFF00",r="white",e="black",n}.call(this)},145:e=>{var t=[].indexOf;e.exports=class e{constructor(e){this.puzzle=e}solve(){var e;return e=this.getAllChoices(this.puzzle),{isSolved:this.recurseSolve(this.puzzle,e),solution:this.puzzle}}getAllChoices(i){var s,r,n,h,a,l,o,u,d;for(s=[[],[],[]],n=h=0,o=i.length;0<=o?h<o:h>o;n=0<=o?++h:--h)for(s[0].push([]),s[1].push([]),s[2].push([]),u=i[n],r=this.getColumn(i,n),d=e.getSquare(i,n),l=a=1;a<10;l=++a)t.call(u,l)<0&&s[0][n].push(l),t.call(r,l)<0&&s[1][n].push(l),t.call(d,l)<0&&s[2][n].push(l);return s}getColumn(e,t){var i,s,r,n;for(r=[],i=0,s=e.length;i<s;i++)n=e[i],r.push(n[t]);return r}static getSquare(e,t){var i,s,r,n,h,a,l,o,u,d,c;for(s=t%3*3,c=[],h=r=l=a=3*Math.floor(t/3),o=a+2;l<=o?r<=o:r>=o;h=l<=o?++r:--r)for(i=n=u=s,d=s+2;u<=d?n<=d:n>=d;i=u<=d?++n:--n)c.push(e[h][i]);return c}static getSquaresIndex(e,t){return 3*Math.floor(e/3)+Math.floor(t/3)}fillInKnowns(t,i){for(var s,r,n,h,a,l,o,u,d,c;;){for(u=!0,h=0,a=(s=this.getBlanks(t)).length;h<a;h++)if([c,r]=s[h],1===(l=(o=this.getTileChoices(c,r,i)).length))d=o[0],t[c][r]=d,this.removeElement(i[0][c],d),this.removeElement(i[1][r],d),n=e.getSquaresIndex(c,r),this.removeElement(i[2][n],d),u=!1;else if(0===l)return"unsolvable";if(0===s.length)return this.puzzle=t,"filled_in";if(u)return null}}removeElement(e,t){return e.splice(e.indexOf(t),1)}getBlanks(e){var t,i,s,r,n,h,a;for(h=[],a=i=0,r=e.length;0<=r?i<r:i>r;a=0<=r?++i:--i)for(t=s=0,n=e[0].length;0<=n?s<n:s>n;t=0<=n?++s:--s)0===e[a][t]&&h.push([a,t]);return h}getTileChoices(i,s,r){var n,h,a,l,o;for(l=[],n=0,h=(o=r[2][e.getSquaresIndex(i,s)]).length;n<h;n++)a=o[n],t.call(r[0][i],a)>=0&&t.call(r[1][s],a)>=0&&l.push(a);return l}findMinChoices(e,t){var i,s,r,n,h,a,l,o,u;for(a=e.length+1,s=[],r=0,n=(l=this.getBlanks(e)).length;r<n&&([o,i]=l[r],!((h=(u=this.getTileChoices(o,i,t)).length)<a&&(a=h,s=[u,o,i],2===h)));r++);return s}checkDigits(e){var i,s,r,n;for(i=1,r=0,n=e.length;r<n;r++)if(0!==(s=e[r])){if(t.call(e.slice(i),s)>=0)return!1;i++}return!0}check(t){var i,s,r;for(i=s=0,r=t.length;0<=r?s<r:s>r;i=0<=r?++s:--s){if(!this.checkDigits(t[i]))return!1;if(!this.checkDigits(this.getColumn(t,i)))return!1;if(!this.checkDigits(e.getSquare(t,i)))return!1}return!0}recurseSolve(t,i){var s,r,n,h,a,l,o,u,d,c;if("filled_in"===(d=this.fillInKnowns(t,i)))return this.check(t);if("unsolvable"===d)return!1;for([c,u,s]=this.findMinChoices(t,i),h=0,a=c.length;h<a;h++)if(r=c[h],(o=e.deepCopy(t))[u][s]=r,l=e.deepCopy(i),this.removeElement(l[0][u],r),this.removeElement(l[1][s],r),n=e.getSquaresIndex(u,s),this.removeElement(l[2][n],r),this.recurseSolve(o,l))return!0;return!1}static deepCopy(t){var i,s,r,n;for(i=[],r=0,n=t.length;r<n;r++)s=t[r],Array.isArray(s)?i.push(e.deepCopy(s)):i.push(s);return i}static test(){var t,i,s,r,n;for(r=new e([[4,0,3,0,1,0,8,0,0],[1,0,2,0,0,0,0,0,7],[8,7,0,2,5,0,1,0,0],[0,0,1,4,0,2,0,0,9],[2,0,5,1,0,6,4,0,8],[9,0,0,5,0,7,2,0,0],[0,0,4,0,7,1,0,8,5],[3,0,0,0,0,0,7,0,4],[0,0,7,0,2,0,6,0,1]]).solve(),console.log("Solved?:",r.isSolved),t=0,i=(s=r.solution).length;t<i;t++)n=s[t],console.log(n);return null}}},419:()=>{Phaser.Plugin.SaveCPU=function(e,t){"use strict";Phaser.Plugin.call(this,e,t)},Phaser.Plugin.SaveCPU.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.SaveCPU.constructor=Phaser.Plugin.SaveCPU,Phaser.Plugin.SaveCPU.prototype.init=function(){"use strict";var e;this.__defineSetter__("renderOnFPS",(function(e){this._renderOnFPS=e,this._tsdiff=1e3/e})),this.__defineGetter__("renderOnFPS",(function(){return this._renderOnFPS})),this._tsdiff=0,this.renderOnFPS=30,this.renderOnPointerChange=!1,this.renderDirty=!0,this.game.updateRender?this._init1():this._init0(),this.fpsDirty=0,this.hrts=0,e=this,window.requestAnimationFrame((function(t){e._trackFPS(t)}))},Phaser.Plugin.SaveCPU.prototype._init0=function(){this.renderType=this.game.renderType,this.switchRender=this._switchRender0},Phaser.Plugin.SaveCPU.prototype._init1=function(){var e=this.game;e.updateRenderReal=e.updateRender,e.updateRenderNull=function(){},this.switchRender=this._switchRender1},Phaser.Plugin.SaveCPU.prototype._trackFPS=function(e){var t;e-this.hrts>this._tsdiff&&(this.fpsDirty=!0,this.hrts=e),t=this,window.requestAnimationFrame((function(e){t._trackFPS(e)}))},Phaser.Plugin.SaveCPU.prototype._switchRender0=function(){"use strict";var e=this.game;this.renderDirty?e.renderType=this.renderType:e.renderType=Phaser.HEADLESS,this.renderDirty=!1},Phaser.Plugin.SaveCPU.prototype._switchRender1=function(){"use strict";var e=this.game;this.renderDirty?e.updateRender=e.updateRenderReal:e.updateRender=e.updateRenderNull},Phaser.Plugin.SaveCPU.prototype.forceRender=function(){"use strict";this.renderDirty=!0},Phaser.Plugin.SaveCPU.prototype._forceRenderOnPointerChange=function(){"use strict";if(!this.renderOnPointerChange)return!1;var e=this.game.input;e.oldx===e.x&&e.oldy===e.y||(this.forceRender(),e.oldx=e.x,e.oldy=e.y),e.oldDown!==e.activePointer.isDown&&(this.forceRender(),e.oldDown=e.activePointer.isDown)},Phaser.Plugin.SaveCPU.prototype._forceRenderOnFPS=function(){"use strict";return!(!this.renderOnFPS||!this.fpsDirty)&&(this.fpsDirty=!1,this.forceRender(),!0)},Phaser.Plugin.SaveCPU.prototype.postUpdate=function(){"use strict";(this.renderDirty||this._forceRenderOnFPS()||this._forceRenderOnPointerChange())&&this.switchRender()},Phaser.Plugin.SaveCPU.prototype.postRender=function(){"use strict";this.renderDirty&&(this.renderDirty=!1,this.switchRender())}}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}(()=>{i(419);const e=i(757);document.addEventListener("DOMContentLoaded",(()=>new e("/static/game_assets/sudoku").start()))})()})();